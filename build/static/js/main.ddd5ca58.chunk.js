(this["webpackJsonp2019-2-Atom-Frontend-E-Jumagaliyev"]=this["webpackJsonp2019-2-Atom-Frontend-E-Jumagaliyev"]||[]).push([[0],{2:function(e,t,a){e.exports={messages:"chatlist_messages__3fFJd",create_chat:"chatlist_create_chat__1sHgt",creating:"chatlist_creating__2296x",user_box:"chatlist_user_box__3JS5V",slidetoright:"chatlist_slidetoright__1CJll",avatar:"chatlist_avatar__3hXwi",chatContainer:"chatlist_chatContainer__2YOHS",indicatorCont:"chatlist_indicatorCont__Qh5t-",chat_header:"chatlist_chat_header__KzpUE",msg:"chatlist_msg__3LQAl",time:"chatlist_time__2LijT",indicator:"chatlist_indicator__1MhLW",chatlist_header:"chatlist_chatlist_header___YCcZ",menu_btn:"chatlist_menu_btn__1wCpy",header_messenger:"chatlist_header_messenger__3gk9B",finder_btn:"chatlist_finder_btn__3z3Sc",findPic:"chatlist_findPic__2iT9E",closePic:"chatlist_closePic__3r-Ae",text_holder:"chatlist_text_holder__2OzYc",slideleft:"chatlist_slideleft__3FQRX",btn_chat:"chatlist_btn_chat__1LHKT",pulse:"chatlist_pulse__3Kt6E"}},22:function(e,t,a){var n=a(41).default;e.exports=n()},29:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a(27),l=a(22),s=a.n(l),o=a(8),m=a(24),u=a(43),_=a(6),h=a(28),d=a(15),f=a(9),E=a.n(f);function g(e){var t=Object(n.useRef)(null),a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),u=m[0],_=m[1];Object(n.useEffect)((function(){var t=localStorage.getItem(e.name)||"[]";l(JSON.parse(t))}),[e.name]),Object(n.useEffect)((function(){localStorage.setItem(e.name,JSON.stringify(i))}),[i,e.name]);Object(n.useEffect)((function(){t.current.scrollIntoView({behavior:"smooth",block:"end"})}),[i]);return c.a.createElement("div",null,c.a.createElement("div",{className:E.a.chat_header},c.a.createElement("div",{className:E.a.backimg},c.a.createElement("img",{onClick:e.route,className:E.a.imgclick,src:"http://s1.iconbird.com/ico/0612/GooglePlusInterfaceIcons/w128h1281338911640directionalleft.png",alt:"back"})),c.a.createElement("p",{className:E.a.header_chat},e.name)),c.a.createElement((function(e){if("[]"!==e.messages){var a=e.messages.map((function(e){return c.a.createElement("div",{className:E.a.chat_box,key:e.id},c.a.createElement("span",null,e.time),c.a.createElement("p",{className:E.a.chat_text},e.content),c.a.createElement("span",null,e.author))}));return c.a.createElement("div",{className:E.a.result,ref:t}," ",a," ")}}),{messages:i}),c.a.createElement("input",{type:"text",value:u,onChange:function(e){return _(e.target.value)},onKeyPress:function(e){if("Enter"===e.key){var t=new Date;""!==u.trim()&&(l([].concat(Object(d.a)(i),[{id:i.length,time:t.toTimeString().slice(0,5),content:u,author:"you"}])),_(""))}}}))}var v=a(2),b=a.n(v);function p(e){var t=Object(n.useRef)(null),a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],_=m[1];Object(n.useEffect)((function(){var e=localStorage.getItem("users")||"[]";l(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem("users",JSON.stringify(i))}),[i]);var h=function(e){var t=localStorage.getItem(e);return"[]"!==t&&null!==t&&void 0!==t?JSON.parse(t)[JSON.parse(t).length-1].content:null},f=function(e){var t=localStorage.getItem(e);return"[]"!==t&&null!==t&&void 0!==t?JSON.parse(t)[JSON.parse(t).length-1].time:null},E=function(e){var t=localStorage.getItem(e);return"[]"!==t&&null!==t&&void 0!==t?"http://s1.iconbird.com/ico/0912/fugue/w24h241349011565tick.png":null};var g=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("input",{className:b.a.create_chat,type:"text",value:a,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){!function(e,t){"Enter"===e.key&&""!==t&&l([].concat(Object(d.a)(i),[{id:i.length,name:t}]))}(e,a.trim())}})};return Object(n.useEffect)((function(){t.current.scrollIntoView({behavior:"smooth",block:"end"})}),[i]),c.a.createElement("div",null,c.a.createElement((function(){return c.a.createElement("div",{className:b.a.chatlist_header},c.a.createElement("div",{className:b.a.menu_btn},c.a.createElement("img",{src:"http://s1.iconbird.com/ico/2013/3/636/w80h80139396727847.png",alt:"menu"})),c.a.createElement("div",{className:b.a.header_messenger},c.a.createElement("p",null,"Messenger")),c.a.createElement("div",{className:b.a.finder_btn},c.a.createElement("img",{className:b.a.findPic,src:"http://s1.iconbird.com/ico/2013/1/569/w24h24138981479606magnify.png",alt:"FindBtn"})))}),null),c.a.createElement((function(e){if("[]"!==e.names){var a=e.names.map((function(t){return c.a.createElement("div",{className:b.a.user_box,key:t.id,onClick:function(){return e.route(t.name)}},c.a.createElement("div",{className:b.a.avatar},c.a.createElement("img",{alt:"User",src:"http://s1.iconbird.com/ico/2013/3/636/w80h80139396728710.png"})),c.a.createElement("div",{className:b.a.chatContainer},c.a.createElement("p",{className:b.a.chat_header},t.name),c.a.createElement("p",{className:b.a.msg},h(t.name))),c.a.createElement("div",{className:b.a.indicatorCont},c.a.createElement("span",{className:b.a.time},f(t.name)),c.a.createElement("img",{className:b.a.indicator,alt:"",src:E(t.name)})))}));return c.a.createElement("div",{className:b.a.messages,ref:t}," ",a," ")}}),{names:i,route:e.route}),c.a.createElement((function(){return c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:b.a.btn_chat,onClick:function(){_(!u)}},c.a.createElement("img",{alt:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0447\u0430\u0442",src:"http://s1.iconbird.com/ico/0512/GlyphIcons/file1337170571.png"})),u?c.a.createElement(g,null):null)}),null))}function N(){var e=Object(m.a)(["\n  text-align: center;\n"]);return N=function(){return e},e}var O=h.a.div(N()),j=Object(_.a)();var C=function(){var e=Object(n.useState)(c.a.createElement(p,{route:function(e){return i(e)}})),t=Object(o.a)(e,2),a=t[0],r=t[1],i=function(e){r(c.a.createElement(g,{route:function(){return l()},name:e}))},l=function(){r(c.a.createElement(p,{route:function(e){return i(e)}}))};return c.a.createElement(u.a,{history:j},c.a.createElement(O,null,c.a.createElement(u.b,null,a)))};a(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(r.render)(c.a.createElement(i.a,{store:s.a},c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},41:function(e,t,a){"use strict";a.r(t);var n=a(10),c=a(23),r={INCREMENT_COUNTER:"INCREMENT_COUNTER",DECREMENT_COUNTER:"DECREMENT_COUNTER"},i=0;var l=Object(n.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch((arguments.length>1?arguments[1]:void 0).type){case r.INCREMENT_COUNTER:return e+1;case r.DECREMENT_COUNTER:return e-1;default:return e}}});a.d(t,"default",(function(){return m}));var s=[c.a],o=[n.a.apply(void 0,s)];function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.d.apply(void 0,[l,e].concat(o))}},9:function(e,t,a){e.exports={chat_header:"message_chat_header__3a6Zx",backimg:"message_backimg__m06LQ",header_chat:"message_header_chat__2c3g8",result:"message_result__3FQMH",imgclick:"message_imgclick__1riwE",chat_box:"message_chat_box__Q_UDS",chat_text:"message_chat_text__2IV00"}}},[[29,1,2]]]);
//# sourceMappingURL=main.ddd5ca58.chunk.js.map