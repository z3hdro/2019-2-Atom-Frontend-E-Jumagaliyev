{"version":3,"sources":["styles/message.module.css","styles/loginpage.module.css","styles/chatlist.module.css","components/config.js","actions/auth.js","actions/actionTypes.js","components/LoginPage.js","components/SignUpPage.js","components/AudioRecord.js","components/Message.js","components/GroupChat.js","components/ChatList.js","components/UserProfile.js","routes/index.js","utils/serviceWorker.js","store/utility.js","reducers/auth.js","index.js","styles/userprofile.module.css"],"names":["module","exports","API_URL","authSuccess","token","type","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","connect","onAuth","username","password","data","fetch","method","mode","headers","body","JSON","stringify","then","res","ok","json","catch","err","key","expirationDate","Date","getTime","setItem","actions","useState","values","setValues","className","styles","loginPageContainer","container","htmlFor","placeholder","value","onChange","event","target","name","required","Login","role","onClick","preventDefault","sendData","onKeyPress","tabIndex","signUp","links","to","email","password1","password2","console","log","Record","id","chunks","setChunks","recording","setRecording","recorder","setRecorder","a","navigator","mediaDevices","getUserMedia","audio","stream","mediaRecorder","MediaRecorder","StartRecord","record","parts","recordAudio","start","ondataavailable","push","recordHandler","fetchData","stop","blob","Blob","mimeType","FormData","append","getItem","result","status","message","StopRecord","audio_button","style","backgroundColor","src","alt","Message","chatTopic","setChatTopic","myRef","useRef","messages","setMessages","visible","setVisible","anyAttachment","setAnyAttachment","newMessage","setNewMessage","attachments","setAttachments","preview","setPreview","imageURL","setImageURL","selectedFile","setSelectedFile","location","setLocation","you","other","author","setAuthor","pollItems","useEffect","t","setInterval","clearInterval","InsideContent","attachment_type","picturesData","attachment_url","map","pic","selected_pictures","href","audio_record","controls","chat_text","content","current","scrollIntoView","behavior","block","chat_header","backimg","imgclick","header_chat","toString","chat_box_audio","chat_box_me","user_id","alignSelf","msg","added_at","toTimeString","slice","ref","fileInput","React","createRef","CurrMessageInput","focus","fileSelectedHandler","files","length","alert","fileList","fileListURL","i","fileURL","window","URL","createObjectURL","addMessage","trim","sendToServer","revokeObjectURL","previewList","attachment_block","input_container","onDragEnter","onDragOver","onDrop","dataTransfer","input_block","message_menu","menulist","option","geolocation","getCurrentPosition","position","latitude","coords","longitude","geoFindMe","closeMenuBtn","add_button","photoAttach","multiple","accept","picAttach","click","GroupMessage","myID","setMyID","idx","forEach","file","chats","setChats","toggle","setToggle","allUsers","setAllUsers","names","MenuList","linksCont","addUser","user","setUser","person","groupChatUsers","isGroupChat","myset","Set","Contacts","setGroupChatUsers","setPerson","setIsGroupChat","contactList","contact","contacts","CreateInput","userlist","create_chat","chatlist_header","menu_btn","header_messenger","finder_btn","is_group_chat","user_box","avatar","borderRadius","height","chatContainer","topic","last_message","indicatorCont","time","last_message_time","indicator","btn_chat","UserProfile","setData","SaveData","input","flag","info","fullname","biography","saveBtn","userData","first_name","last_name","bio","success","sendDatatoServer","firstNameInfo","setFirstNameInfo","lastNameInfo","setLastNameInfo","BioInfo","setBioInfo","userpage","avatarPic","width","textholdernames","textholder","rows","maxLength","onBlur","minLength","history","createBrowserHistory","Support","ChildGroup","useParams","Child","state","isAuthenticated","onTryAutoSignUp","undefined","exact","path","from","Boolean","hostname","match","updateObject","oldObject","updatedProperties","initialState","loading","authStart","action","authLogout","reducer","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b20d8ddc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat_header\":\"message_chat_header__3JhTC\",\"backimg\":\"message_backimg__249i4\",\"header_chat\":\"message_header_chat__3Lf1E\",\"result\":\"message_result__13TL8\",\"imgclick\":\"message_imgclick__1KbNf\",\"chat_box_me\":\"message_chat_box_me__ho5MR\",\"chat_box_audio\":\"message_chat_box_audio__1eQ0u\",\"audio_record\":\"message_audio_record__19-4k\",\"chat_box\":\"message_chat_box__2Jl0S\",\"msg\":\"message_msg__3Cr5-\",\"chat_text\":\"message_chat_text__1tIDy\",\"chat_picture\":\"message_chat_picture__26vwn\",\"input_container\":\"message_input_container__1utyU\",\"attachment_block\":\"message_attachment_block__NQhit\",\"attachment_audio_block\":\"message_attachment_audio_block__oot55\",\"input_block\":\"message_input_block__zTPz8\",\"selected_pictures\":\"message_selected_pictures__WgCFh\",\"message_menu\":\"message_message_menu__267jT\",\"menulist\":\"message_menulist__vL0rG\",\"slide\":\"message_slide__EzBMo\",\"closeMenuBtn\":\"message_closeMenuBtn__1Biza\",\"option\":\"message_option__1oUxk\",\"photoAttach\":\"message_photoAttach__1qzuV\",\"picAttach\":\"message_picAttach__1kzzp\",\"add_button\":\"message_add_button__20MOb\",\"audio_button\":\"message_audio_button__2o7v4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPageContainer\":\"loginpage_loginPageContainer__NRabA\",\"container\":\"loginpage_container__27j3J\",\"Login\":\"loginpage_Login__DDu57\",\"signUp\":\"loginpage_signUp__3Ylo2\",\"links\":\"loginpage_links__2Uth7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"chatlist_messages__2Mcng\",\"userlist\":\"chatlist_userlist__1374F\",\"contacts\":\"chatlist_contacts__4fD6A\",\"create_chat\":\"chatlist_create_chat__2vzBk\",\"user_box\":\"chatlist_user_box__2yvil\",\"avatar\":\"chatlist_avatar__1g421\",\"chatContainer\":\"chatlist_chatContainer__1yRwz\",\"indicatorCont\":\"chatlist_indicatorCont__5Zn46\",\"chat_header\":\"chatlist_chat_header__2N1Hp\",\"msg\":\"chatlist_msg__3KvwQ\",\"time\":\"chatlist_time__318Bv\",\"indicator\":\"chatlist_indicator__Fu8nL\",\"chatlist_header\":\"chatlist_chatlist_header__zkjvW\",\"menu_btn\":\"chatlist_menu_btn___6Gkd\",\"menulist\":\"chatlist_menulist__2asOR\",\"slide\":\"chatlist_slide__2I5Ra\",\"linksCont\":\"chatlist_linksCont__1A0wE\",\"links\":\"chatlist_links__2pHYN\",\"closeMenuBtn\":\"chatlist_closeMenuBtn__1uy5A\",\"header_messenger\":\"chatlist_header_messenger__lbEBv\",\"finder_btn\":\"chatlist_finder_btn__u-p_Y\",\"Login\":\"chatlist_Login__3edc5\",\"closePic\":\"chatlist_closePic__B36_v\",\"text_holder\":\"chatlist_text_holder__1jsJU\",\"btn_chat\":\"chatlist_btn_chat__3Apkd\",\"pulse\":\"chatlist_pulse__3ONX5\"};","export const API_URL = 'http://localhost:8000';","import * as actionTypes from './actionTypes';\nimport { API_URL } from '../components/config';\n\nexport const authStart = () => {\n\treturn {\n\t\ttype: actionTypes.AUTH_START\n\t};\n};\n\nexport const authSuccess = token => {\n\treturn {\n\t\ttype: actionTypes.AUTH_SUCCESS,\n\t\ttoken\n\t};\n};\n\nexport const authFail = error => {\n\treturn {\n\t\ttype: actionTypes.AUTH_FAIL,\n\t\terror\n\t};\n};\n\nexport const logout = () => {\n\tlocalStorage.removeItem('token');\n\tlocalStorage.removeItem('expirationDate');\n\treturn {\n\t\ttype: actionTypes.AUTH_LOGOUT\n\t};\n};\n\nexport const checkAuthTimeout = expirationTime => {\n\treturn dispatch => {\n\t\tsetTimeout(() => {\n\t\t\tdispatch(logout());\n\t\t}, expirationTime * 1000);\n\t};\n};\n\nexport const authLogin = (username, password) => {\n\treturn dispatch => {\n\t\tdispatch(authStart());\n\t\t\n\t\tconst data = {\n\t\t\t'username': username,\n\t\t\t'password': password\n\t\t};\n\n\t\tfetch(`${API_URL}/rest-auth/login/`, {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (!res.ok) throw res;\n\t\t\t\treturn res.json();})\n\t\t\t.catch(err => {\n\t\t\t\tdispatch(authFail(err));\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconst token = json.key;\n\t\t\t\t// expiration time for 1 hour\n\t\t\t\tconst expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n\t\t\t\tlocalStorage.setItem('token', token);\n\t\t\t\tlocalStorage.setItem('expirationDate', expirationDate);\n\t\t\t\tdispatch(authSuccess(token));\n\t\t\t\tdispatch(checkAuthTimeout(3600));\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tdispatch(authFail(err));\n\t\t\t});\n\t};\n};\n\n\nexport const authSignup = (username, email, password1, password2) => {\n\treturn dispatch => {\n\t\tdispatch(authStart());\n\t\tconst data = {\n\t\t\t'username':username,\n\t\t\t'email':email,\n\t\t\t'password1':password1,\n\t\t\t'password2':password2,\n\t\t};\n\n\t\tfetch(`${API_URL}/rest-auth/registration/`, {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (!res.ok) throw res;\n\t\t\t\treturn res.json();})\n\t\t\t.then(json => {\n\t\t\t\tconst token = json.key;\n\t\t\t\t// expiration time for 1 hour\n\t\t\t\tconst expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n\t\t\t\tlocalStorage.setItem('token', token);\n\t\t\t\tlocalStorage.setItem('expirationDate', expirationDate);\n\t\t\t\tdispatch(authSuccess(token));\n\t\t\t\tdispatch(checkAuthTimeout(3600));\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tdispatch(authFail(err));\n\t\t\t});\n\t};\n};\n\nexport const authCheckState = () => {\n\treturn dispatch => {\n\t\tconst token = localStorage.getItem('token');\n\t\tif (token === undefined) {\n\t\t\tdispatch(logout());\n\t\t} else {\n\t\t\tconst expirationDate = new Date(localStorage.getItem('expirationDate'));\n\t\t\tif ( expirationDate <= new Date() ) {\n\t\t\t\tdispatch(logout());\n\t\t\t} else {\n\t\t\t\tdispatch(authSuccess(token));\n\t\t\t\tdispatch(checkAuthTimeout( (expirationDate.getTime() - new Date().getTime())/ 1000 ));\n\n\t\t\t}\n\t\t}\n\t};\n};","export const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';","/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions/auth';\nimport styles from '../styles/loginpage.module.css';\n\n\n\nfunction LoginPage({ onAuth}) {\n\tconst [values, setValues] = useState({username: '',password: ''});\n    \n\tconst sendData = event => {\n\t\tevent.preventDefault();\n\t\tonAuth(values.username, values.password);\n\t\tsetValues({username: '',password: ''});\n\t};\n\n\treturn (\n\t\t<div className={styles.loginPageContainer}>\n\t\t\t<form method='post'>\n\t\t\t\t<div className={styles.container}>\n\t\t\t\t\t<label htmlFor='uname'><b>Username</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='text' \n\t\t\t\t\t\tplaceholder='Enter Username'\n\t\t\t\t\t\tvalue = {values.username}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\tusername: event.target.value})}\n\t\t\t\t\t\tname='uname' \n\t\t\t\t\t\trequired/>\n\n\t\t\t\t\t<label htmlFor='psw'><b>Password</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\tplaceholder='Enter Password'\n\t\t\t\t\t\tvalue = {values.password}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\tpassword: event.target.value\n\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname='psw' \n\t\t\t\t\t\trequired/>\n                        \n\t\t\t\t\t<span className={styles.Login}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {(event) => sendData(event)}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n                            Login\n\t\t\t\t\t</span>\n                    Or\n\t\t\t\t\t<span className={styles.signUp}>\n\t\t\t\t\t\t<Link className={styles.links} to='/signup/'>SignUp</Link>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonAuth: (username, password) => dispatch(actions.authLogin(username, password))\n\t};\n};\n\nexport default connect(null, mapDispatchToProps)(LoginPage);\n\nLoginPage.propTypes = {\n\tonAuth : PropTypes.func.isRequired \n};","/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions/auth';\nimport styles from '../styles/loginpage.module.css';\n\n\nfunction SignUpPage({onAuth}) {\n\tconst [values, setValues] = useState({username: '', email: '', password1: '', password2: ''});\n    \n\tconst sendData = event => {\n\t\tevent.preventDefault();\n\t\tconsole.log(values);\n\t\tonAuth(values.username, values.email, values.password1, values.password2);\n\t\tsetValues({username: '', email: '', password1: '', password2: ''});\n\t};\n\n\treturn (\n\t\t<div className={styles.loginPageContainer}>\n\t\t\t<form method='post'>\n\t\t\t\t<div className={styles.container}>\n\t\t\t\t\t<label htmlFor='uname'><b>Username</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='text' \n\t\t\t\t\t\tplaceholder='Enter Username'\n\t\t\t\t\t\tvalue = {values.username}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\tusername: event.target.value})}\n\t\t\t\t\t\tname='uname' \n\t\t\t\t\t\trequired/>\n\n\t\t\t\t\t<label htmlFor='uemail'><b>Email</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='email' \n\t\t\t\t\t\tplaceholder='Enter email'\n\t\t\t\t\t\tvalue = {values.email}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\temail: event.target.value})}\n\t\t\t\t\t\tname='uemail' \n\t\t\t\t\t\trequired/>\n\n\t\t\t\t\t<label htmlFor='psw1'><b>Password</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\tplaceholder='Enter Password'\n\t\t\t\t\t\tvalue = {values.password1}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\tpassword1: event.target.value})}\n\t\t\t\t\t\tname='psw1' \n\t\t\t\t\t\trequired/>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<label htmlFor='psw2'><b>Re-Password</b></label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\tplaceholder='Repeat Password'\n\t\t\t\t\t\tvalue = {values.password2}\n\t\t\t\t\t\tonChange={(event) => setValues({\n\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\tpassword2: event.target.value\n\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname='psw2' \n\t\t\t\t\t\trequired/>\n                        \n\t\t\t\t\t<span className={styles.Login}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {(event) => sendData(event)}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n                            SignUp\n\t\t\t\t\t</span>\n                    Or\n\t\t\t\t\t<span className={styles.signUp}>\n\t\t\t\t\t\t<Link className={styles.links} to='/login/'>Login</Link>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonAuth: (username, email, password1, password2) => dispatch(actions.authSignup(username, email, password1, password2))\n\t};\n};\n\nexport default connect(null, mapDispatchToProps)(SignUpPage);\n\nSignUpPage.propTypes = {\n\tonAuth : PropTypes.func.isRequired \n};","/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable func-names */\nimport React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../styles/message.module.css';\nimport { API_URL } from './config';\n\nexport default function Record({id,chunks,setChunks}) {\n\tconst [recording, setRecording] = useState(null);\n\tconst [recorder, setRecorder] = useState(null);\n\n\n\tasync function fetchData() {\n\t\ttry {\n\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n\t\t\tconst mediaRecorder = new MediaRecorder(stream);\n\t\t\treturn mediaRecorder;\n\t\t} catch(err) {\n\t\t\tconsole.log(err);\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\tconst StartRecord = (record) => {\n\t\tconst parts = [];\n\t\tconst recordAudio = record;\n\t\trecordAudio.start(10);\n\t\tconsole.log('recorder started');\n\t\trecordAudio.ondataavailable = (event) => {\n\t\t\tparts.push(event.data);\n\t\t};\n\t\tsetChunks(parts);\n\t\tsetRecorder(recordAudio);\n\t\tsetRecording(true);\n\t};\n\t\n\tconst StopRecord = () => {\n\t\trecorder.stop();\n\t\tconsole.log('recorder stopped');\n\t\tconst blob = new Blob(chunks, { type: recorder.mimeType });\n\t\tconst data = new FormData();\n\t\tdata.append('chat_id', id);\n\t\tdata.append('content', '');\n\t\tdata.append('attachment_type', 'audio_message');\n\t\tdata.append('media', blob);\n\t\tfetch(`${API_URL}/message/createmessage/`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t},\n\t\t\tbody: data,\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tconsole.log(result.status);\n\t\t\t\treturn result.json();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err.message);\n\t\t\t});\n\t\tsetRecording(false);\n\t\tsetChunks([]);\n\t};\n\t\n\tconst recordHandler = (event) => {\n\t\tevent.preventDefault();\n\t\tif (recording === null) {\n\t\t\tfetchData().then((mediaRecorder) => StartRecord(mediaRecorder));\n\t\t} else if (recording) {\n\t\t\tStopRecord();\n\t\t} else {\n\t\t\tStartRecord(recorder);\n\t\t}\n\t};\n\t\n\treturn (\n\t\t<div>\n\t\t\t<div className = {styles.audio_button}\n\t\t\t\trole = 'button'\n\t\t\t\tonClick={(event) => recordHandler(event)}\n\t\t\t\tstyle={recording ? {backgroundColor: 'rgb(250, 12, 60)'} : {backgroundColor: 'rgb(228, 228, 228)'}}\n\t\t\t\tonKeyPress={() => {}}\n\t\t\t\ttabIndex = '0'>\n\t\t\t\t<img src='http://s1.iconbird.com/ico/2013/3/636/w80h80139396728712.png' alt='audioRecord'/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n\nRecord.propTypes = {\n\t// eslint-disable-next-line react/forbid-prop-types\n\tid : PropTypes.string.isRequired,\n\t// eslint-disable-next-line react/forbid-prop-types\n\tchunks: PropTypes.array.isRequired,\n\t// eslint-disable-next-line react/no-unused-prop-types\n\tsetChunks: PropTypes.func.isRequired,\n};","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-tabs */\n/* eslint-disable no-console */\n/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable no-alert */\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from '../styles/message.module.css';\nimport Record from './AudioRecord';\nimport { API_URL } from './config';\n\n\nexport default function Message({id}) {\n\tconst [chatTopic, setChatTopic] = useState('');\n\tconst myRef = useRef(null);\n\tconst [messages, setMessages] = useState([]);\n\tconst [visible, setVisible] = useState(false);\n\tconst [anyAttachment, setAnyAttachment] = useState([]);\n\tconst [newMessage, setNewMessage] = useState('');\n\tconst [attachments, setAttachments] = useState([]);\n\tconst [preview, setPreview] = useState(false);\n\tconst [imageURL, setImageURL] = useState([]);\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [chunks, setChunks] = useState([]);\n\tconst [location, setLocation] = useState('');\n\tconst [author, setAuthor] = useState({you: [null, null] , other: [null,null]});\n\t\n\tconst pollItems = () => {\n\t\tfetch(`${API_URL}/message/showmessages/?chat_id=${id}`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.result);\n\t\t\t\tconsole.log(typeof(json.result));\n\t\t\t\tif (json.result !== 'chat is empty') {\n\t\t\t\t\tsetMessages(json.result);\n\t\t\t\t\tsetAuthor({you: json.you , other: json.other});\n\t\t\t\t}\n\t\t\t});\n\t};\n\t\n\tuseEffect(() => {\n\t\tconst t = setInterval(() => pollItems(), 3000);\n\t\treturn () => clearInterval(t);\n\t});\n\n\tuseEffect(() => {\n\t\tfetch(`${API_URL}/chats/showchat/?chat_id=${id}`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tsetChatTopic(json.result);\n\t\t\t\t\n\t\t\t});\n\t}, );\n\n\tconst InsideContent = (message) => {\n\t\tif (message.attachment_type === 'images') {\n\t\t\tconst picturesData = [];\n\t\t\tmessage.attachment_url.map((pic) => \n\t\t\t\tpicturesData.push(\n\t\t\t\t\t<div key={pic}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={styles.selected_pictures}\n\t\t\t\t\t\t\tsrc={pic}\n\t\t\t\t\t\t\talt='img'/>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn picturesData;\n\t\t} \n\t\tif (message.attachment_type === 'geolocation') {\n\t\t\treturn (<a href = {message.attachment_url[0]}> Click on this message, it is my location </a>);\n\t\t} \n\t\tif (message.attachment_type === 'audio_message') {\n\t\t\treturn (\n\t\t\t\t<div className={styles.audio_record}>\n\t\t\t\t\t<audio controls src={message.attachment_url[0]}/>\n\t\t\t\t</div> );\n\t\t} \n\t\treturn (\n\t\t\t<p className={styles.chat_text}>\n\t\t\t\t{message.content}\n\t\t\t</p>\n\t\t);\n\t};\n\n\tfunction MessageList() {\n\t\tif (messages.toString() !== '') {\n\t\t\tconst data = messages.map((message) => \n\t\t\t\t<div className={(message.attachment_type === 'audio_message') ? styles.chat_box_audio : styles.chat_box_me}\n\t\t\t\t\tstyle={(message.user_id === author.you[1]) ?\n\t\t\t\t\t\t{backgroundColor: 'rgb(173, 216, 230)', alignSelf: 'flex-end'} :\n\t\t\t\t\t\t{backgroundColor: 'rgb(200, 200, 200)', alignSelf: 'flex-start'}}\n\t\t\t\t\tkey={message.id}>\n\t\t\t\t\t<span className={styles.msg}>{new Date(message.added_at).toTimeString().slice(0,5)}</span>\n\t\t\t\t\t{InsideContent(message)}\n\t\t\t\t\t<span className={styles.msg}>\n\t\t\t\t\t\t{(author.you[1] === message.user_id) ?\n\t\t\t\t\t\t\tauthor.you[0] : \n\t\t\t\t\t\t\tauthor.other[0]}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<div className={styles.result} ref = {myRef}> \n\t\t\t\t\t{data} \n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className={styles.result} ref = {myRef}> \n\t\t\t\t{messages}\n\t\t\t</div>\n\t\t);\n\t};\n\n\n\tconst scrollToBottom = () => {\n\t\tmyRef.current.scrollIntoView({ behavior: 'smooth', block: 'end'});\n\t};\n\n\n\tuseEffect(scrollToBottom, [messages]);\n\n\n\tfunction InputMessage() {\n\t\t\n\t\tconst fileInput = React.createRef();\n\t\tconst CurrMessageInput = useRef(null);\n\n\n\t\tconst inputFocus = () => {\n\t\t\tCurrMessageInput.current.focus();\n\t\t};\n\t\n\t\tuseEffect(inputFocus, [CurrMessageInput]);\n\n\n\t\tconst geoFindMe = (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tfunction success(position) {\n\t\t\t\tsetAnyAttachment('geolocation');\n\t\t\t\tconst {latitude} = position.coords;\n\t\t\t\tconst {longitude} = position.coords;\n\t\t\t\tsetLocation(`https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`);\n\t\t\t\tsetNewMessage(`https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`);\n\t\t\t}\n\t\t\n\t\t\tfunction error() {\n\t\t\t\talert('Unable to retrieve your location');\n\t\t\t}\n\t\t\t\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\talert('Geolocation is not supported by your browser');\n\t\t\t} else {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(success, error);\n\t\t\t}\n\t\t};\n\n\n\t\tconst fileSelectedHandler = (files) => {\n\t\t\tif (files.length > 10) {\n\t\t\t\talert('LIMIT of 10 images');\n\t\t\t} else {\n\t\t\t\tsetPreview(true);\n\t\t\t\tsetAnyAttachment('images');\n\t\t\t\tconst fileList = [];\n\t\t\t\tconst fileListURL = [];\n\t\t\t\tsetSelectedFile(files);\n\t\t\t\tfor (let i = 0; i < files.length; i+=1) {\n\t\t\t\t\tconst fileURL = window.URL.createObjectURL(files[i]);\n\t\t\t\t\tfileListURL.push(fileURL);\n\t\t\t\t\tfileList.push(\n\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName={styles.selected_pictures}\n\t\t\t\t\t\t\t\tsrc={fileURL}\n\t\t\t\t\t\t\t\talt='img'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tsetAttachments(fileList);\n\t\t\t\tsetImageURL(fileListURL);\n\t\t\t}\n\t\t};\n\n\t\tfunction HandleClick() {\n\t\t\tfileInput.current.click();\n\t\t}\n\n\t\tconst MenuAttachment = () => {\n\t\t\treturn (\n\t\t\t\t<div className={styles.menulist}>\n\t\t\t\t\t<div className={styles.option}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick={(event) => geoFindMe(event)}\n\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<p>Местоположение</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.closeMenuBtn}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\tsetVisible(false);}}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<img alt='Close' src='http://s1.iconbird.com/ico/2013/3/636/w80h80139396727833.png'/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t};\n\n\n\t\tconst sendToServer = () => {\n\t\t\tconsole.log(selectedFile);\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('chat_id', id);\n\t\t\tdata.append('content', newMessage);\n\t\t\tswitch(anyAttachment) {\n\t\t\t\tcase 'images':\n\t\t\t\t\tdata.append('attachment_type', anyAttachment);\n\t\t\t\t\tfor (let i = 0; i < selectedFile.length; i+=1) {\n\t\t\t\t\t\tdata.append('media', selectedFile[i]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'geolocation':\n\t\t\t\t\tdata.append('attachment_type', anyAttachment);\n\t\t\t\t\tdata.append('geolocation_url', location);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdata.append('attachment_type', null);\n\t\t\t}\n\t\t\tfetch(`${API_URL}/message/createmessage/`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`,\n\t\t\t\t},\n\t\t\t\tbody: data,\n\t\t\t})\n\t\t\t\t.then(result => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\treturn result.json();\n\t\t\t\t})\n\t\t\t\t.then(json => {\n\t\t\t\t\tconsole.log(json);\n\t\t\t\t});\n\t\t\tsetAnyAttachment(null);\n\t\t};\n\n\t\tconst addMessage = (event) => {\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tif ((newMessage.trim() !== '') || (attachments.toString() !== '')) {\n\t\t\t\t\tsendToServer();\n\t\t\t\t\tsetNewMessage('');\n\t\t\t\t\tfor (let i = 0; i < imageURL.length; i+=1) {\n\t\t\t\t\t\twindow.URL.revokeObjectURL(imageURL[i]);\n\t\t\t\t\t}\n\t\t\t\t\tsetAttachments([]);\n\t\t\t\t}\n\t\t\t\tsetPreview(!preview);\n\t\t\t\tpollItems();\n\t\t\t}\n\t\t};\n\n\n\t\tconst previewList = \n\t\t\t<div className={styles.attachment_block}>\n\t\t\t\t{attachments}\n\t\t\t</div>;\n\n\t\treturn (\n\t\t\t<div className={styles.input_container}\n\t\t\t\tonDragEnter={(event) => event.preventDefault()}\n\t\t\t\tonDragOver={(event) => event.preventDefault()}\n\t\t\t\tonDrop={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfileSelectedHandler(event.dataTransfer.files);\n\t\t\t\t}}>\n\t\t\t\t{preview ? previewList : null}\n\t\t\t\t<div className={styles.input_block}>\n\t\t\t\t\t<div className={styles.message_menu}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick={() => setVisible(!visible)}\n\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<img src='http://s1.iconbird.com/ico/0612/GooglePlusInterfaceIcons/w128h1281338911640clip.png' alt='menu' />\n\t\t\t\t\t\t{visible ? <MenuAttachment />: null}\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={newMessage}\n\t\t\t\t\t\tonChange={event => setNewMessage(event.target.value)}\n\t\t\t\t\t\tonKeyPress={event => addMessage(event, newMessage, setNewMessage)}\n\t\t\t\t\t\tref={CurrMessageInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className={styles.add_button}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName={styles.photoAttach}\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\t\tonChange={(event) => fileSelectedHandler(event.target.files)}\n\t\t\t\t\t\t\tref={fileInput}/>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclassName = {styles.picAttach}\n\t\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\t\tonClick={HandleClick}\n\t\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t\t<img alt='upload attachmets' \n\t\t\t\t\t\t\t\tsrc='http://s1.iconbird.com/ico/0612/GooglePlusInterfaceIcons/w128h1281338911594add.png'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Record id={id} chunks={chunks} setChunks={setChunks}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn ( \n\t\t<div>\n\t\t\t<div className={styles.chat_header}>\n\t\t\t\t<div className={styles.backimg}>\n\t\t\t\t\t<Link to='/chatlist/'>\n\t\t\t\t\t\t<img className={styles.imgclick} \n\t\t\t\t\t\t\tsrc='http://s1.iconbird.com/ico/2014/1/598/w128h1281390846445leftround128.png' alt='back' />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<p className={styles.header_chat}>{chatTopic}</p>\n\t\t\t</div>\n\t\t\t<MessageList messages = {messages} />\n\t\t\t<InputMessage />\n\t\t</div>\n\t);\n}\n\n\nMessage.propTypes = {\n\tid : PropTypes.string.isRequired,\n\t// eslint-disable-next-line react/no-unused-prop-types\n\tvisible : PropTypes.func.isRequired\n};","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-tabs */\n/* eslint-disable no-console */\n/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable no-alert */\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from '../styles/message.module.css';\nimport Record from './AudioRecord';\nimport { API_URL } from './config';\n\n\nexport default function GroupMessage({id}) {\n\tconst [chatTopic, setChatTopic] = useState('');\n\tconst myRef = useRef(null);\n\tconst [messages, setMessages] = useState([]);\n\tconst [visible, setVisible] = useState(false);\n\tconst [anyAttachment, setAnyAttachment] = useState([]);\n\tconst [newMessage, setNewMessage] = useState('');\n\tconst [attachments, setAttachments] = useState([]);\n\tconst [preview, setPreview] = useState(false);\n\tconst [imageURL, setImageURL] = useState([]);\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [chunks, setChunks] = useState([]);\n\tconst [myID, setMyID] = useState();\n\tconst [location, setLocation] = useState('');\n\t\n\tconst pollItems = () => {\n\t\tfetch(`${API_URL}/message/showgroupmessages/?chat_id=${id}`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.result);\n\t\t\t\tconsole.log(typeof(json.result));\n\t\t\t\tif (json.result !== 'chat is empty') {\n\t\t\t\t\tsetMessages(json.result);\n\t\t\t\t}\n\t\t\t});\n\t};\n\t\n\tuseEffect(() => {\n\t\tconst t = setInterval(() => pollItems(), 3000);\n\t\treturn () => clearInterval(t);\n\t});\n\n\tuseEffect(() => {\n\t\tfetch(`${API_URL}/users/findme/`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.result);\n\t\t\t\tsetMyID(json.result);\n\t\t\t});\n\n\t\tfetch(`${API_URL}/chats/showchat/?chat_id=${id}`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tsetChatTopic(json.result);\n\t\t\t\t\n\t\t\t});\n\t}, );\n\n\tconst InsideContent = (message) => {\n\t\tif (message.attachment_type === 'images') {\n\t\t\treturn message.attachment_url.map((pic, idx) => \n\t\t\t\t<div key={pic}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={styles.selected_pictures}\n\t\t\t\t\t\tsrc={pic}\n\t\t\t\t\t\talt='img'/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} \n\t\tif (message.attachment_type === 'geolocation') {\n\t\t\treturn (<a href = {message.attachment_url[0]}> Click on this message, it is my location </a>);\n\t\t} \n\t\tif (message.attachment_type === 'audio_message') {\n\t\t\treturn (\n\t\t\t\t<div className={styles.audio_record}>\n\t\t\t\t\t<audio controls src={message.attachment_url[0]}/>\n\t\t\t\t</div> );\n\t\t} \n\t\treturn (\n\t\t\t<p className={styles.chat_text}>\n\t\t\t\t{message.content}\n\t\t\t</p>\n\t\t);\n\t};\n\n\tfunction MessageList() {\n\t\tif (messages.toString() !== '') {\n\t\t\tconst data = messages.map((message) => \n\t\t\t\t<div className={(message.attachment_type === 'audio_message') ? styles.chat_box_audio : styles.chat_box_me}\n\t\t\t\t\tstyle={(message.user_id === myID) ?\n\t\t\t\t\t\t{backgroundColor: 'rgb(173, 216, 230)', alignSelf: 'flex-end'} :\n\t\t\t\t\t\t{backgroundColor: 'rgb(200, 200, 200)', alignSelf: 'flex-start'}}\n\t\t\t\t\tkey={message.id}>\n\t\t\t\t\t<span className={styles.msg}>{new Date(message.added_at).toTimeString().slice(0,5)}</span>\n\t\t\t\t\t{InsideContent(message)}\n\t\t\t\t\t<span className={styles.msg}>\n\t\t\t\t\t\t{message.username}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<div className={styles.result} ref = {myRef}> \n\t\t\t\t\t{data} \n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className={styles.result} ref = {myRef}> \n\t\t\t\t{messages}\n\t\t\t</div>\n\t\t);\n\t};\n\n\n\tconst scrollToBottom = () => {\n\t\tmyRef.current.scrollIntoView({ behavior: 'smooth', block: 'end'});\n\t};\n\n\n\tuseEffect(scrollToBottom, [messages]);\n\n\n\tfunction InputMessage() {\n\t\t\n\t\tconst fileInput = React.createRef();\n\t\tconst CurrMessageInput = useRef(null);\n\n\n\t\tconst inputFocus = () => {\n\t\t\tCurrMessageInput.current.focus();\n\t\t};\n\t\n\t\tuseEffect(inputFocus, [CurrMessageInput]);\n\n\n\t\tconst geoFindMe = (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tfunction success(position) {\n\t\t\t\tsetAnyAttachment('geolocation');\n\t\t\t\tconst {latitude} = position.coords;\n\t\t\t\tconst {longitude} = position.coords;\n\t\t\t\tsetLocation(`https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`);\n\t\t\t\tsetNewMessage(`https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`);\n\t\t\t}\n\t\t\n\t\t\tfunction error() {\n\t\t\t\talert('Unable to retrieve your location');\n\t\t\t}\n\t\t\t\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\talert('Geolocation is not supported by your browser');\n\t\t\t} else {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(success, error);\n\t\t\t}\n\t\t};\n\n\n\t\tconst fileSelectedHandler = (files) => {\n\t\t\tif (files.length > 10) {\n\t\t\t\talert('LIMIT of 10 images');\n\t\t\t} else {\n\t\t\t\tsetPreview(true);\n\t\t\t\tsetAnyAttachment('images');\n\t\t\t\tconst fileList = [];\n\t\t\t\tconst fileListURL = [];\n\t\t\t\tsetSelectedFile(files);\n\t\t\t\t// for (let i = 0; i < files.length; i+=1) {\n\t\t\t\t// \tconst fileURL = window.URL.createObjectURL(files[i]);\n\t\t\t\t// \tfileListURL.push(fileURL);\n\t\t\t\t// \tfileList.push(\n\t\t\t\t// \t\t<div key={i}>\n\t\t\t\t// \t\t\t<img\n\t\t\t\t// \t\t\t\tclassName={styles.selected_pictures}\n\t\t\t\t// \t\t\t\tsrc={fileURL}\n\t\t\t\t// \t\t\t\talt='img'/>\n\t\t\t\t// \t\t</div>\n\t\t\t\t// \t);\n\t\t\t\t// };\n\t\t\t\tfiles.forEach(file => {\n\t\t\t\t\tconst fileURL = window.URL.createObjectURL(file);\n\t\t\t\t\tfileListURL.push(fileURL);\n\t\t\t\t\tfileList.push(\n\t\t\t\t\t\t<div key={file}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName={styles.selected_pictures}\n\t\t\t\t\t\t\t\tsrc={fileURL}\n\t\t\t\t\t\t\t\talt='img'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tsetAttachments(fileList);\n\t\t\t\tsetImageURL(fileListURL);\n\t\t\t}\n\t\t};\n\n\t\tfunction HandleClick() {\n\t\t\tfileInput.current.click();\n\t\t}\n\n\t\tconst MenuAttachment = () => {\n\t\t\treturn (\n\t\t\t\t<div className={styles.menulist}>\n\t\t\t\t\t<div className={styles.option}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick={(event) => geoFindMe(event)}\n\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<p>Местоположение</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.closeMenuBtn}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\tsetVisible(false);}}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<img alt='Close' src='http://s1.iconbird.com/ico/2013/3/636/w80h80139396727833.png'/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t};\n\n\n\t\tconst sendToServer = () => {\n\t\t\tconsole.log(selectedFile);\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('chat_id', id);\n\t\t\tdata.append('content', newMessage);\n\t\t\tswitch(anyAttachment) {\n\t\t\t\tcase 'images':\n\t\t\t\t\tdata.append('attachment_type', anyAttachment);\n\t\t\t\t\tfor (let i = 0; i < selectedFile.length; i+=1) {\n\t\t\t\t\t\tdata.append('media', selectedFile[i]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'geolocation':\n\t\t\t\t\tdata.append('attachment_type', anyAttachment);\n\t\t\t\t\tdata.append('geolocation_url', location);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdata.append('attachment_type', null);\n\t\t\t}\n\t\t\tfetch(`${API_URL}/message/createmessage/`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`,\n\t\t\t\t},\n\t\t\t\tbody: data,\n\t\t\t})\n\t\t\t\t.then(result => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\treturn result.json();\n\t\t\t\t})\n\t\t\t\t.then(json => {\n\t\t\t\t\tconsole.log(json);\n\t\t\t\t});\n\t\t\tsetAnyAttachment(null);\n\t\t};\n\n\t\tconst addMessage = (event) => {\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tif ((newMessage.trim() !== '') || (attachments.toString() !== '')) {\n\t\t\t\t\tsendToServer();\n\t\t\t\t\tsetNewMessage('');\n\t\t\t\t\tfor (let i = 0; i < imageURL.length; i+=1) {\n\t\t\t\t\t\twindow.URL.revokeObjectURL(imageURL[i]);\n\t\t\t\t\t}\n\t\t\t\t\tsetAttachments([]);\n\t\t\t\t}\n\t\t\t\tsetPreview(!preview);\n\t\t\t\tpollItems();\n\t\t\t}\n\t\t};\n\n\n\t\tconst previewList = \n\t\t\t<div className={styles.attachment_block}>\n\t\t\t\t{attachments}\n\t\t\t</div>;\n\n\t\treturn (\n\t\t\t<div className={styles.input_container}\n\t\t\t\tonDragEnter={(event) => event.preventDefault()}\n\t\t\t\tonDragOver={(event) => event.preventDefault()}\n\t\t\t\tonDrop={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfileSelectedHandler(event.dataTransfer.files);\n\t\t\t\t}}>\n\t\t\t\t{preview ? previewList : null}\n\t\t\t\t<div className={styles.input_block}>\n\t\t\t\t\t<div className={styles.message_menu}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick={() => setVisible(!visible)}\n\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<img src='http://s1.iconbird.com/ico/0612/GooglePlusInterfaceIcons/w128h1281338911640clip.png' alt='menu' />\n\t\t\t\t\t\t{visible ? <MenuAttachment />: null}\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={newMessage}\n\t\t\t\t\t\tonChange={event => setNewMessage(event.target.value)}\n\t\t\t\t\t\tonKeyPress={event => addMessage(event, newMessage, setNewMessage)}\n\t\t\t\t\t\tref={CurrMessageInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className={styles.add_button}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName={styles.photoAttach}\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\t\tonChange={(event) => fileSelectedHandler(event.target.files)}\n\t\t\t\t\t\t\tref={fileInput}/>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclassName = {styles.picAttach}\n\t\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\t\tonClick={HandleClick}\n\t\t\t\t\t\t\tonKeyPress={() => {}}\n\t\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t\t<img alt='upload attachmets' \n\t\t\t\t\t\t\t\tsrc='http://s1.iconbird.com/ico/0612/GooglePlusInterfaceIcons/w128h1281338911594add.png'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Record id={id} chunks={chunks} setChunks={setChunks}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn ( \n\t\t<div>\n\t\t\t<div className={styles.chat_header}>\n\t\t\t\t<div className={styles.backimg}>\n\t\t\t\t\t<Link to='/chatlist/'>\n\t\t\t\t\t\t<img className={styles.imgclick} \n\t\t\t\t\t\t\tsrc='http://s1.iconbird.com/ico/2014/1/598/w128h1281390846445leftround128.png' alt='back' />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<p className={styles.header_chat}>{chatTopic}</p>\n\t\t\t</div>\n\t\t\t<MessageList messages = {messages} />\n\t\t\t<InputMessage />\n\t\t</div>\n\t);\n}\n\n\nGroupMessage.propTypes = {\n\tid : PropTypes.string.isRequired,\n\t// eslint-disable-next-line react/no-unused-prop-types\n\tvisible : PropTypes.func.isRequired\n};","/* eslint-disable react/no-unused-prop-types */\n/* eslint-disable prefer-destructuring */\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/auth';\nimport styles from '../styles/chatlist.module.css';\nimport { API_URL } from './config';\n\n\n\nfunction ChatList({logout}) {\n\t\n\tconst myRef = useRef(null);\n\tconst [chats, setChats] = useState([]);\n\tconst [toggle, setToggle] = useState(false);\n\tconst [allUsers, setAllUsers] = useState(null);\n\n\n\tconst pollItems = () => {\n\t\tfetch(`${API_URL}/chats/showchats/`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.names);\n\t\t\t\tif (json.names !== 'NO CHATS') {\n\t\t\t\t\tsetChats(json);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t};\n\t\n\tuseEffect(() => {\n\t\tconst t = setInterval(() => pollItems(), 15000);\n\t\treturn () => clearInterval(t);\n\t});\n\n\tuseEffect(() => {\n\t\tpollItems();\n\n\t\tfetch(`${API_URL}/users/showusers`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\t// console.log(json.result);\n\t\t\t\tsetAllUsers(json.result);\n\t\t\t});\n\t}, []);\n\n\tconst MenuList = ({visible}) => {\n\t\treturn (\n\t\t\t<div className={styles.menulist}>\n\t\t\t\t<div className={styles.closeMenuBtn}\n\t\t\t\t\trole = 'button'\n\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\tvisible(false);}}\n\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t<img alt='Close' src='http://s1.iconbird.com/ico/2013/3/636/w80h80139396727833.png'/>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.linksCont}>\n\t\t\t\t\t<Link className={styles.links} to='/profile/'>Profile</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.linksCont}>\n\t\t\t\t\t<Link className={styles.links} to='/support/'>Support</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst ChatHeader = () => {\n\t\tconst [visible, setVisible] = useState(false);\n\t\treturn (\n\t\t\t<div className={styles.chatlist_header}>\n\t\t\t\t<div className={styles.menu_btn}\n\t\t\t\t\trole = 'button'\n\t\t\t\t\tonClick = {() => setVisible(!visible)}\n\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t<img src='http://s1.iconbird.com/ico/2013/3/636/w80h80139396727847.png' alt='menu'/>\n\t\t\t\t\t{visible ? <MenuList visible = {setVisible}/>: null}\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.header_messenger}>\n\t\t\t\t\t<p>Messenger</p>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.finder_btn}>\n\t\t\t\t\t<span className={styles.Login}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {logout}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t\tLogOut\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tfunction UserList() {\n\t\tif (chats.toString() !== '') {\n\t\t\tconst data = chats.names.map((user) =>\n\t\t\t\t<Link className={styles.links} to= { user.is_group_chat ? `/groupmessage/:${user.id}/` : `/message/:${user.id}/`} key={`chat_${user.id}`}>\n\t\t\t\t\t<div className={styles.user_box} >\n\t\t\t\t\t\t<div className={styles.avatar}>\n\t\t\t\t\t\t\t<img alt='User' src={user.avatar} style={{borderRadius: '50%', height: '6vh'}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t<div className={styles.chatContainer}>\n\t\t\t\t\t\t\t<p className={styles.chat_header}>{user.topic}</p>\n\t\t\t\t\t\t\t<p className={styles.msg}>{user.last_message}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className={styles.indicatorCont}>\n\t\t\t\t\t\t\t<span className={styles.time}>\n\t\t\t\t\t\t\t\t{ (user.last_message === '') ?\n\t\t\t\t\t\t\t\t\t'' : \n\t\t\t\t\t\t\t\t\tnew Date(user.last_message_time).toTimeString().slice(0,5)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ (user.last_message === '') ?\n\t\t\t\t\t\t\t\tnull :\n\t\t\t\t\t\t\t\t<img className={styles.indicator} alt='' src='http://s1.iconbird.com/ico/0912/fugue/w24h241349011565tick.png'/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<div className={styles.messages} ref = {myRef}> {data} </div>\n\t\t\t);\n\t\t}\n\t\treturn <div className={styles.messages} ref = {myRef}/>;\n\t};\n\n\tconst sendToServer = (user, person, groupChatUsers, isGroupChat) => {\n\t\tconst myset = new Set(groupChatUsers);\n\t\tconst data = new FormData();\n\t\tdata.append('is_group_chat', isGroupChat);\n\t\tdata.append('topic', user);\n\t\tif (isGroupChat === false) {\n\t\t\tdata.append('username', person);\n\t\t}\n\t\tif (isGroupChat === true) {\n\t\t\tfor (const value of myset) data.append('username', value);\n\t\t}\n\t\tfetch(`${API_URL}/chats/createchat/`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`,\n\t\t\t},\n\t\t\tbody: data,\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\treturn result.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json);\n\t\t\t});\n\t};\n\t\n\tconst addUser = (event, user, setUser, person, groupChatUsers, isGroupChat) => {\n\t\tif (event.key === 'Enter') {\n\t\t\tif (user !== '') {\n\t\t\t\tsendToServer(user, person, groupChatUsers, isGroupChat);\n\t\t\t\tsetUser('');\n\t\t\t}\n\t\t}\n\t};\n\n\tconst Contacts = ({ groupChatUsers, setGroupChatUsers, person, setPerson, isGroupChat, setIsGroupChat}) => {\n\n\t\tconst contactList = allUsers.map(contact =>\n\t\t\t<div \n\t\t\t\tclassName={styles.contacts}\n\t\t\t\tstyle={(contact.username === person) ?\n\t\t\t\t\t{backgroundColor: 'rgb(255, 102, 102)'} :\n\t\t\t\t\tnull}\n\t\t\t\tkey={contact.id}\n\t\t\t\trole = 'button'\n\t\t\t\tonClick = { () => {\n\t\t\t\t\tsetPerson(contact.username);\n\t\t\t\t\tsetGroupChatUsers([\n\t\t\t\t\t\t...groupChatUsers,\n\t\t\t\t\t\tcontact.username\n\t\t\t\t\t]);\n\t\t\t\t}}\n\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\ttabIndex = '0'>\n\t\t\t\t{contact.username}\n\t\t\t</div>\n\t\t);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={styles.contacts}\n\t\t\t\t\tstyle = {isGroupChat ? {backgroundColor: 'rgb(190, 190, 190)'} : {backgroundColor: 'rgb(214, 214, 214)'}}\n\t\t\t\t\trole = 'button'\n\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\tsetIsGroupChat(!isGroupChat);\n\t\t\t\t\t}}\n\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\tCreate A Group Chat\n\t\t\t\t</div>\n\t\t\t\t{contactList}\n\t\t\t</div>);\n\t};\n\t\n    \n\tconst CreateInput = () => {\n\t\tconst [user, setUser] = useState('');\n\t\tconst [person, setPerson] = useState();\n\t\tconst [groupChatUsers, setGroupChatUsers] = useState([]);\n\t\tconst [isGroupChat, setIsGroupChat] = useState(false);\n\t\treturn (\n\t\t\t<div className={styles.userlist}>\n\t\t\t\t{(allUsers === null) ? \n\t\t\t\t\tnull :\n\t\t\t\t\t<Contacts groupChatUsers={groupChatUsers} setGroupChatUsers={setGroupChatUsers} person={person} setPerson={setPerson} isGroupChat={isGroupChat} setIsGroupChat={setIsGroupChat}/>\n\t\t\t\t}\n\t\t\t\t<input\n\t\t\t\t\tclassName = {styles.create_chat}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvalue={user}\n\t\t\t\t\tonChange={(event) => setUser(event.target.value)}\n\t\t\t\t\tonKeyPress={(event) => {addUser(event, user.trim(), setUser, person, groupChatUsers, isGroupChat);}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t); \n\t};   \n     \n\tfunction toggleBtn() {\n\t\tsetToggle(!toggle);\n\t}\n    \n\tconst CreateButton = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button type='button' className={styles.btn_chat} onClick={() => toggleBtn()}>\n\t\t\t\t\t<img alt='Создать чат' src='http://s1.iconbird.com/ico/0512/GlyphIcons/file1337170571.png'/>\n\t\t\t\t</button>\n\t\t\t\t{toggle ? <CreateInput /> : null}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst scrollToBottom = () => {\n\t\tmyRef.current.scrollIntoView({ behavior: 'smooth', block: 'start'});\n\t};\n\n\tuseEffect(scrollToBottom, [chats]);\n\n\tContacts.propTypes = {\n\t\t// eslint-disable-next-line react/forbid-prop-types\n\t\tgroupChatUsers : PropTypes.array.isRequired,\n\t\tsetGroupChatUsers : PropTypes.func.isRequired,\n\t\tperson : PropTypes.string.isRequired,\n\t\tsetPerson : PropTypes.func.isRequired,\n\t\tisGroupChat : PropTypes.bool.isRequired,\n\t\tsetIsGroupChat : PropTypes.func.isRequired\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<ChatHeader />\n\t\t\t<UserList />\n\t\t\t<CreateButton />\n\t\t</div>\n\t);\n}\n\nChatList.propTypes = {\n\t// eslint-disable-next-line react/no-unused-prop-types\n\tvisible : PropTypes.func.isRequired,\n\tlogout : PropTypes.func.isRequired\n};\n\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogout: () => dispatch(actions.logout())\n\t};\n};\n\n\nexport default connect(null, mapDispatchToProps)(ChatList);","import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from '../styles/userprofile.module.css';\nimport { API_URL } from './config';\n\n\nexport default function UserProfile() {\n\tconst [data, setData] = useState({});\n\tconst [imageURL, setImageURL] = useState();\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [preview, setPreview] = useState(false);\n    \n\tuseEffect( () => {\n\t\tfetch(`${API_URL}/users/finduser/`, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.result);\n\t\t\t\tsetData(json.result);\n\t\t\t});\n\t\treturn () => {\n\t\t\t\n\t\t};}, []);\n\n\n\n\tconst sendDatatoServer = () => {\n\t\tconst userData = new FormData();\n\t\t\n\t\tuserData.append('first_name', data.first_name);\n\t\tuserData.append('last_name', data.last_name);\n\t\tuserData.append('bio', data.bio);\n\t\tuserData.append('avatar', selectedFile);\n\t\tfetch(`${API_URL}/users/updateuser/`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Authorization': `Token ${localStorage.getItem('token')}`,\n\t\t\t},\n\t\t\tbody: userData\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tconsole.log(json.success);\n\t\t\t});\n\t\t\n\t};\n\n\t\n\n\tconst UserPageHeader = () => {\n\t\treturn (\n\t\t\t<div className={styles.chat_header}>\n\t\t\t\t<div className={styles.backimg}\n\t\t\t\t\trole = 'button'\n\t\t\t\t\tonClick = {() => {}}\n\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t<Link to='/chatlist/'>\n\t\t\t\t\t\t<img src='http://s1.iconbird.com/ico/2014/1/598/w128h1281390846445leftround128.png' alt='back' />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<p className={styles.header_chat}>Edit Profile</p>\n\t\t\t\t<div className={styles.saveBtn}\n\t\t\t\t\trole = 'button'\n\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\tsendDatatoServer();\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t<img src='http://s1.iconbird.com/ico/2013/3/637/w128h128139396832132.png' alt='Save'/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n    \n\tfunction SaveData(...input) {\n\t\tif (input[1].key === 'Enter') {\n\t\t\tconst flag = input[0];\n\t\t\tconst info = input[2];\n\t\t\tif (info !== '') {\n\t\t\t\tif (flag === 1){\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tfullname: info\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (flag === 2){\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tusername: info\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (flag === 3){\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tbiography: info\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\n\tfunction UserPage() {\n\t\tconst [firstNameInfo, setFirstNameInfo] = useState(data.first_name);\n\t\tconst [lastNameInfo, setLastNameInfo] = useState(data.last_name);\n\t\tconst [BioInfo, setBioInfo] = useState(data.bio);\n\t\tconst fileInput = React.createRef();\n\n\t\tconst fileSelectedHandler = (files) => {\n\t\t\tconst file = files[0];\n\t\t\tsetSelectedFile(file); \n\t\t\tconst fileURL = window.URL.createObjectURL(file);\n\t\t\tsetImageURL(fileURL);\n\t\t\tsetPreview(true);\n\t\t};\n\n\t\tfunction HandleClick() {\n\t\t\tfileInput.current.click();\n\t\t}\n\n\n\t\treturn (\n\t\t\t<div className={styles.userpage}>\n\t\t\t\t<div className={styles.avatar}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={styles.photoAttach}\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\taccept='image/jpeg,image/png'\n\t\t\t\t\t\tonChange={(event) => fileSelectedHandler(event.target.files)}\n\t\t\t\t\t\tref={fileInput}/>\n\t\t\t\t\t<div className={styles.avatarPic}\n\t\t\t\t\t\trole = 'button'\n\t\t\t\t\t\tonClick = {HandleClick}\n\t\t\t\t\t\tonKeyPress = {() => {}}\n\t\t\t\t\t\ttabIndex = '0'>\n\t\t\t\t\t\t<img alt='User' src={ preview ? \n\t\t\t\t\t\t\timageURL :\n\t\t\t\t\t\t\tdata.avatar\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={{width: '10vh', height: '10vh', borderRadius: '50%'}}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.fullname}>\n\t\t\t\t\t<p className={styles.textholdernames}>First name</p>\n\t\t\t\t\t<textarea className={styles.textholder}\n\t\t\t\t\t\trows = '1' \n\t\t\t\t\t\tmaxLength = '25'\n\t\t\t\t\t\tvalue = {firstNameInfo}\n\t\t\t\t\t\tonChange = {(event) => setFirstNameInfo(event.target.value)}\n\t\t\t\t\t\tonKeyPress = {(event) => SaveData(1, event, firstNameInfo.trim())}\n\t\t\t\t\t\tonBlur = {()=> {\n\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\tfirst_name: firstNameInfo.trim()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}/>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.username}>\n\t\t\t\t\t<p className={styles.textholdernames}>Last Name</p>\n\t\t\t\t\t<textarea className={styles.textholder}\n\t\t\t\t\t\trows = '1'\n\t\t\t\t\t\tminLength = '5'\n\t\t\t\t\t\tmaxLength = '20'\n\t\t\t\t\t\tvalue = {lastNameInfo}\n\t\t\t\t\t\tonChange = {(event) => setLastNameInfo(event.target.value)}\n\t\t\t\t\t\tonKeyPress = {(event) => SaveData(2, event, lastNameInfo.trim())}\n\t\t\t\t\t\tonBlur = {() => {\n\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\tlast_name: lastNameInfo.trim()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}/>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.biography}>\n\t\t\t\t\t<p className={styles.textholdernames}>Biography</p>\n\t\t\t\t\t<textarea className={styles.textholder}\n\t\t\t\t\t\trows = '4'\n\t\t\t\t\t\tmaxLength = '150'\n\t\t\t\t\t\tvalue = {BioInfo}\n\t\t\t\t\t\tonChange = {(event) => setBioInfo(event.target.value)}\n\t\t\t\t\t\tonKeyPress = {(event) => SaveData(3, event, BioInfo.trim())}\n\t\t\t\t\t\tonBlur = {() => {\n\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\tbio: BioInfo.trim()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className = {styles.container}>\n\t\t\t<UserPageHeader/>\n\t\t\t<UserPage/>\n\t\t</div>\n\t);\n}\n","import React, {useEffect} from 'react';\nimport { \n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect,\n\tuseParams\n} from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport LoginPage from '../components/LoginPage';\nimport SignUpPage from '../components/SignUpPage';\nimport Message from '../components/Message';\nimport GroupMessage from '../components/GroupChat';\nimport ChatList from '../components/ChatList';\nimport UserProfile from '../components/UserProfile';\nimport * as actions from '../actions/auth';\n\nexport const history = createBrowserHistory();\n\nfunction Support() {\n\treturn (\n\t\t<div>\n\t\t\t<h1><a href='https://docs.google.com/document/d/1dcKpg02_kF_0wPfab8PfZArli03CLiQDusRqFfj5wks/edit'>Жалобы и баги</a></h1>\n\t\t\t<p> переходить по данной ссылке и отставлять жалобы)</p>\n\n\t\t</div>\n\t);\n}\nfunction ChildGroup() {\n\tconst { id } = useParams();\n\treturn (\n\t\t<GroupMessage id = {id.slice(1)}/>\n\t);\n}\n\nfunction Child() {\n\tconst { id } = useParams();\n\treturn (\n\t\t<Message id = {id.slice(1)}/>\n\t);\n}\n\nfunction Routes({isAuthenticated, onTryAutoSignUp}) {\n\tuseEffect(() => onTryAutoSignUp()\n\t\t, [onTryAutoSignUp]);\n\n\tconst toggle = localStorage.getItem('token');\n\treturn (\n\t\t<Router history={history}>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t{(toggle !== null) ? <Redirect exact from = '/' to='/chatlist/' /> : <Redirect exact from = '/' to='/chatlist/' />}\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/login/'>\n\t\t\t\t\t{/* {(toggle !== null) ? <Redirect exact from = '/login/' to='/chatlist/' /> : null } */}\n\t\t\t\t\t<LoginPage isAuthenticated = {isAuthenticated} />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/signup/'>\n\t\t\t\t\t{/* {(toggle !== null) ? <Redirect exact from = '/signup/' to='/chatlist/' /> : null } */}\n\t\t\t\t\t<SignUpPage isAuthenticated = {isAuthenticated}/>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/profile/'>\n\t\t\t\t\t{/* {(toggle !== null) ? null : <Redirect exact from = '/' to='/login/' />} */}\n\t\t\t\t\t<UserProfile />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/message/:id/'>\n\t\t\t\t\t{/* {(toggle !== null) ? null : <Redirect exact from = '/' to='/login/' />} */}\n\t\t\t\t\t<Child />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/groupmessage/:id/'>\n\t\t\t\t\t{/* {(toggle !== null) ? null : <Redirect exact from = '/' to='/login/' />} */}\n\t\t\t\t\t<ChildGroup />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/support/'>\n\t\t\t\t\t{/* {(toggle !== null) ? null : <Redirect exact from = '/' to='/login/' />} */}\n\t\t\t\t\t<Support />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/chatlist/'>\n\t\t\t\t\t{/* {(toggle !== null) ? null : <Redirect exact from = '/' to='/login/' />} */}\n\t\t\t\t\t<ChatList />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nRoutes.propTypes = {\n\tisAuthenticated : PropTypes.bool.isRequired,\n\tonTryAutoSignUp : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisAuthenticated: state.token !== null\n\t};\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonTryAutoSignUp: () => dispatch(actions.authCheckState())\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Routes);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n\treturn {\n\t\t...oldObject,\n\t\t...updatedProperties\n\t};\n};","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../store/utility';\n\nconst initialState = {\n\ttoken: null,\n\terror: null,\n\tloading: false\n};\n\nconst authStart = (state, action) => {\n\treturn updateObject(state, {\n\t\terror: null,\n\t\tloading: true\n\t});\n};\n\nconst authSuccess = (state, action) => {\n\treturn updateObject(state, {\n\t\ttoken: action.token,\n\t\terror: null,\n\t\tloading: false\n\t});\n};\n\nconst authFail = (state, action) => {\n\treturn updateObject(state, {\n\t\terror: action.error,\n\t\tloading: false\n\t});\n};\n\nconst authLogout = (state, action) => {\n\treturn updateObject(state, {\n\t\ttoken: null\n\t});\n};\n\nconst reducer = (state=initialState, action) => {\n\tswitch(action.type) {\n\t\tcase actionTypes.AUTH_START: return authStart(state, action);\n\t\tcase actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n\t\tcase actionTypes.AUTH_FAIL: return authFail(state, action);\n\t\tcase actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default reducer;","import React from 'react';\nimport { render } from 'react-dom';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport {createStore, compose, applyMiddleware} from 'redux';\n// import store from './store';\nimport Routes from './routes';\nimport './styles/globalStyles.css';\nimport * as serviceWorker from './utils/serviceWorker';\nimport reducer from './reducers/auth';\n\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhances(\n\tapplyMiddleware(thunk)\n));\n\nrender(\n\t<Provider store={store}>\n\t\t<Routes />\n\t</Provider>,\n\tdocument.getElementById('root'),\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"userprofile_container__3dHie\",\"photoAttach\":\"userprofile_photoAttach__2JPqS\",\"chat_header\":\"userprofile_chat_header__F8KY1\",\"backimg\":\"userprofile_backimg__3bnSE\",\"header_chat\":\"userprofile_header_chat__1XI87\",\"saveBtn\":\"userprofile_saveBtn__2XG2p\",\"userpage\":\"userprofile_userpage__2kp1c\",\"avatar\":\"userprofile_avatar__2qiio\",\"avatarPic\":\"userprofile_avatarPic__3O3ta\",\"fullname\":\"userprofile_fullname__RgX7x\",\"username\":\"userprofile_username__dkWCv\",\"biography\":\"userprofile_biography__cu7Gg\",\"textholdernames\":\"userprofile_textholdernames__3IUdP\",\"textholder\":\"userprofile_textholder__BE0_V\"};"],"sourceRoot":""}